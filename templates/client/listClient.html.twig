{% extends 'base.html.twig' %}

{% block gestion_page %}Clients
<form method="POST" class="align-middle text-center">
  <select name="selectrecherche">
      <option>Selectionnez ce que vous voulez chercher ?</option>
      <option value="cni">CNI</option>
      <option value="nom">Nom</option>
  </select>
  <div class="input-group input-group-outline">
      <label class="form-label" for="searchclient">Entrez votre recherche ici !!</label>
      <input class="form-control" name="searchclient" required/>
  </div>
  </br>
      <button type="submit" class="btn btn-info">Chercher</button>
</form>
{% endblock %}
{% block page_courante %}
{% endblock %}

{% block contenu %}

<body class="g-sidenav-show  bg-gray-200">
    <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
      <div class="container">
      <div class="row">
          <div class="col-12">
            <div class="card my-4">
              <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                  <h6 class="text-white text-capitalize ps-3">Listes des clients</h6>
                  
                </div>
              </div>
              <div >
                  <a href="/ajoutClient" style="float: left;"><button class="btn btn-success m-3">Ajouter un client</button></a>

              </div>
                    <div class="table-responsive p-0">
                      <table class="table align-items-center mb-0">
                        <thead>
                          <tr>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Ordre</th> 
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">CNI</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Nom</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Prenom</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Telephone</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Nom d'utilisateur</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Mot de passe</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Actions</th>
                            
                          </tr>
                        </thead>
      
                        <tbody>
                        {% for client in clients %}
                          <tr>
                            <td class="align-middle text-center">{{loop.index}}</td>
                            <td class="align-middle text-center">{{client.cni}}</td>
                            <td class="align-middle text-center">{{client.nom}}</td>
                            <td class="align-middle text-center">{{client.prenom}}</td>
                            <td class="align-middle text-center">{{client.telephone}}</td>
                            <td class="align-middle text-center">{{client.nomUtilisateur}}</td>
                            <td class="align-middle text-center">{{client.motDePasse}}</td>
                            <td class="align-middle">
                              <a href="/readClient/{{client.id}}" class="btn btn-info" data-toggle="tooltip" style="padding: 10;" data-original-title="Edit user">Détails</a>
                              <a href="/editClient/{{client.id}}" class="btn btn-warning" data-toggle="tooltip" style="padding: 10;" data-original-title="Edit user">Modifier</a>
                              <a href="/deleteClient/{{client.id}}" class="btn btn-danger" data-toggle="tooltip" style="padding: 10;" data-original-title="Edit user" 
                              onclick="return confirm('     Cette action est irréversible !\n Etes vous sûr de supprimer ce client ?');">
                              Supprimer</a>
                            </td>
                          </tr>
                        {% endfor %}
                        </tbody>
                      </table>
                      
          </div>
</body>
{% endblock %}

